!function(e){e.fn.qrcode=function(t){"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},t);var o=document.documentElement.clientWidth;t.width=Math.floor(o*t.width/750),t.height=Math.floor(o*t.height/750);var r=function(){var e=new QRCode(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var o=document.createElement("canvas");o.width=t.width,o.height=t.height;for(var r=o.getContext("2d"),n=t.width/e.getModuleCount(),d=t.height/e.getModuleCount(),a=0;a<e.getModuleCount();a++)for(var c=0;c<e.getModuleCount();c++){r.fillStyle=e.isDark(a,c)?t.foreground:t.background;var h=Math.ceil((c+1)*n)-Math.floor(c*n),u=Math.ceil((a+1)*n)-Math.floor(a*n);r.fillRect(Math.round(c*n),Math.round(a*d),h,u)}return o},n=function(){var o=new QRCode(t.typeNumber,t.correctLevel);o.addData(t.text),o.make();for(var r=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),n=t.width/o.getModuleCount(),d=t.height/o.getModuleCount(),a=0;a<o.getModuleCount();a++)for(var c=e("<tr></tr>").css("height",d+"px").appendTo(r),h=0;h<o.getModuleCount();h++)e("<td></td>").css("width",n+"px").css("background-color",o.isDark(a,h)?t.foreground:t.background).appendTo(c);return r};return this.each(function(){var o="canvas"==t.render?r():n();e(o).appendTo(this)})}}(Zepto);